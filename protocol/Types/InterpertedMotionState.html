<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Strict//EN">
<html xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AC Protocol version 2017.11.14.0</title>
      <link type="text/css" rel="stylesheet" href="../Classic.css">
   </head>
   <body>
      <table cellspacing="0" cellpadding="0" class="List2">
         <tr>
            <td colspan="3">
               <p class="BoxHead2"><b>InterpertedMotionState</b></p>
            </td>
         </tr>
         <tr>
            <td class="PadTop" colspan="3"></td>
         </tr>
         <tr>
            <td colspan="3">
               <p class="BoxDesc">Contains information for animations and general free motion</p>
            </td>
         </tr>
         <tr>
            <td colspan="3" class="FieldRowSep">
               <p class="FieldRowSep"></p>
            </td>
         </tr>
         <tr>
            <td class="FieldType">
               <p class="FieldType"><span class="TypeRef" title="">uint uint</span></p>
            </td>
            <td class="FieldName">
               <p class="FieldName">flags</p>
            </td>
            <td class="FieldDesc">
               <p class="FieldDesc">
                  write: 
                  
                  (commandListLength
                  &amp; 0x7F
                  &lt;&lt; 7)
                  
               </p>
            </td>
         </tr>
         <tr align="right">
            <td class="FieldType">
               <p class="FieldType"><span class="TypeRef" title="">uint</span></p>
            </td>
            <td class="FieldName">
               <p class="FieldName">commandListLength</p>
            </td>
            <td class="FieldDesc">
               <p class="FieldDesc">
                  read: 
                  flags
                  &gt;&gt; 7
                  &amp; 0x7F
               </p>
            </td>
         </tr>
         <tr>
            <td class="NestedTable" colspan="3">
               <table cellspacing="0" cellpadding="0" class="CaseList2">
                  <tr>
                     <td colspan="2">
                        <p class="CaseHead2">Choose valid sections by masking against <b>flags</b></p>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000001</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title=""><a target="frameType" href="StanceMode.html">StanceMode</a></span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">currentStyle</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Stance.  If not present, defaults to 0x3D (NonCombat)</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000002</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title=""><a target="frameType" href="MovementCommand.html">MovementCommand</a></span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">forwardCommand</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Command for our forward movement. If not present, defaults to 0x03 (Ready)</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000008</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title=""><a target="frameType" href="MovementCommand.html">MovementCommand</a></span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">sidestepCommand</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Command for our sidestep movememnt. If not present, defaults to 0x00</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000020</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title=""><a target="frameType" href="MovementCommand.html">MovementCommand</a></span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">turnCommand</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Command for our turn movememnt. If not present, defaults to 0x00</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000004</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title="">float</span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">forwardSpeed</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Forward movement speed. If not present, defaults to 1.0</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000010</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title="">float</span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">sidestepSpeed</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Sidestep movement speed. If not present, defaults to 1.0</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
                  <tr>
                     <td class="CaseVal2">
                        <p class="CaseVal2">0x00000040</p>
                     </td>
                     <td class="CaseFields2">
                        <table cellspacing="0" cellpadding="0" class="List2">
                           <tr>
                              <td class="PadTop" colspan="3"></td>
                           </tr>
                           <tr>
                              <td class="FieldType">
                                 <p class="FieldType"><span class="TypeRef" title="">float</span></p>
                              </td>
                              <td class="FieldName">
                                 <p class="FieldName">turnSpeed</p>
                              </td>
                              <td class="FieldDesc">
                                 <p class="FieldDesc">Turn movement speed. If not present, defaults to 1.0</p>
                              </td>
                           </tr>
                           <tr>
                              <td class="PadBottom" colspan="3"></td>
                           </tr>
                        </table>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
         <tr>
            <td class="NestedTable" colspan="3">
               <table cellspacing="0" cellpadding="0" class="List1">
                  <tr>
                     <td colspan="3">
                        <p class="BoxHead1"><b>commands</b>: vector of length <b>commandListLength</b></p>
                     </td>
                  </tr>
                  <tr>
                     <td class="PadTop" colspan="3"></td>
                  </tr>
                  <tr>
                     <td class="FieldType">
                        <p class="FieldType"><span class="TypeRef" title=""><a target="frameType" href="Command.html">Command</a></span></p>
                     </td>
                     <td class="FieldName">
                        <p class="FieldName">commandID</p>
                     </td>
                     <td class="FieldDesc">
                        <p class="FieldDesc">Command ID</p>
                     </td>
                  </tr>
                  <tr>
                     <td colspan="3" class="FieldRowSep">
                        <p class="FieldRowSep"></p>
                     </td>
                  </tr>
                  <tr>
                     <td class="FieldType">
                        <p class="FieldType"><span class="TypeRef" title="">ushort ushort ushort</span></p>
                     </td>
                     <td class="FieldName">
                        <p class="FieldName">packedSequence</p>
                     </td>
                     <td class="FieldDesc">
                        <p class="FieldDesc">
                           write: 
                           
                           (serverActionSequence
                           &amp; 0x7FFF)
                           
                           | 
                           
                           (autonomous
                           &amp; 0x1
                           &lt;&lt; 15)
                           
                           ;
                           Sequence of the animation.  Note the MSB appears to be used for autonomous flag. 
                           Therefore the max size of this member would be 1/2 a WORD.
                        </p>
                     </td>
                  </tr>
                  <tr align="right">
                     <td class="FieldType">
                        <p class="FieldType"><span class="TypeRef" title="">ushort</span></p>
                     </td>
                     <td class="FieldName">
                        <p class="FieldName">serverActionSequence</p>
                     </td>
                     <td class="FieldDesc">
                        <p class="FieldDesc">
                           read: 
                           packedSequence
                           &amp; 0x7FFF
                           ; Sequence of the animation.
                        </p>
                     </td>
                  </tr>
                  <tr align="right">
                     <td class="FieldType">
                        <p class="FieldType"><span class="TypeRef" title="">ushort</span></p>
                     </td>
                     <td class="FieldName">
                        <p class="FieldName">autonomous</p>
                     </td>
                     <td class="FieldDesc">
                        <p class="FieldDesc">
                           read: 
                           packedSequence
                           &gt;&gt; 15
                           &amp; 0x1
                           ; Seems to indicate the commmand is autonomous
                        </p>
                     </td>
                  </tr>
                  <tr>
                     <td colspan="3" class="FieldRowSep">
                        <p class="FieldRowSep"></p>
                     </td>
                  </tr>
                  <tr>
                     <td class="FieldType">
                        <p class="FieldType"><span class="TypeRef" title="">float</span></p>
                     </td>
                     <td class="FieldName">
                        <p class="FieldName">speed</p>
                     </td>
                     <td class="FieldDesc">
                        <p class="FieldDesc">Command speed</p>
                     </td>
                  </tr>
                  <tr>
                     <td class="PadBottom" colspan="3"></td>
                  </tr>
               </table>
            </td>
         </tr>
         <tr>
            <td colspan="3">
               <p class="Align">Align to <b>DWORD</b> boundary
               </p>
            </td>
         </tr>
         <tr>
            <td class="PadBottom" colspan="3"></td>
         </tr>
      </table>
      <p class="Version">Messages.xml version 2017.11.14.0</p>
   </body>
</html>